this.CharrueLayoutNext=function(e){"use strict";var M=Object.defineProperty,I=Object.defineProperties,N=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,b=(n,a,t)=>a in n?M(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t,g=(n,a)=>{for(var t in a||(a={}))V.call(a,t)&&b(n,t,a[t]);if(_)for(var t of _(a))D.call(a,t)&&b(n,t,a[t]);return n},O=(n,a)=>I(n,N(a));const C="$CharrueLayoutPluginOptions",$=n=>{const a={};return n==2?a.subMenu="el-submenu":n==3?a.subMenu="el-sub-menu":console.error(`[charrue layout] version ${n} is not supported`),a},A=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/g;function L(n){return A.test(n)}function W(n){const a=n.split("/").filter(t=>t);return a.map((t,o)=>`/${a.slice(0,o+1).join("/")}`)}function k(n,a=""){return n.map(t=>{let{path:o,redirect:i}=t;if(o&&!L(o)){const l=o[0]==="/";o&&(o=a&&l?o:`${a}/${o}`)}o=B(o),i&&i[0]!=="/"&&(i=B(`${o}/${i}`));const r=O(g({},t),{path:o,redirect:i});return t.children&&(r.children=k(t.children,`${a}/${t.path}`)),r})}function w(n,a={}){if(!Array.isArray(n))return a;let t=g({},a);return n.forEach(o=>{o.path&&(t[o.path]=o),o.children&&(t=w(o.children,t))}),t}function B(n){return n.replace(/\/\//g,"/")}function S(n){return typeof n=="function"}var m={name:"SidebarItem",props:{subMenuComponent:{type:String,default:"el-submenu"},menuItem:{type:Object,required:!0},prefixIconClass:String,menuTextClass:String,route:Boolean}};const H={class:"charrue-layout-sidebar-el-menu-container"};function j(n,a,t,o,i,r){const l=e.resolveComponent("sidebar-item",!0),s=e.resolveComponent("el-menu-item"),d=e.resolveComponent("router-link");return e.openBlock(),e.createElementBlock("div",H,[t.menuItem.children&&t.menuItem.children.length>0?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.subMenuComponent),{key:0,index:t.menuItem.path,"popper-append-to-body":""},{title:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["submenu-title",t.menuItem.icon?"submenu-title-with-icon":""])},[e.createElementVNode("i",{class:e.normalizeClass(["sidebar-menu-icon",t.prefixIconClass,t.menuItem.icon])},null,2),e.createElementVNode("span",{class:e.normalizeClass([t.menuTextClass,"common-menu-text"])},e.toDisplayString(t.menuItem.title),3)],2)]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.menuItem.children,c=>(e.openBlock(),e.createBlock(l,{key:c.path,route:t.route,"is-nest":!0,menuItem:c,subMenuComponent:t.subMenuComponent},null,8,["route","menuItem","subMenuComponent"]))),128))]),_:1},8,["index"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.route?(e.openBlock(),e.createBlock(d,{key:0,to:t.menuItem.path,class:"menu-router-link"},{default:e.withCtx(()=>[e.createVNode(s,{index:t.menuItem.path},{title:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["submenu-title",t.menuItem.icon?"submenu-title-with-icon":""])},[e.createElementVNode("i",{class:e.normalizeClass(["sidebar-menu-icon",t.prefixIconClass,t.menuItem.icon])},null,2),e.createElementVNode("span",{class:e.normalizeClass([t.menuTextClass,"common-menu-text"])},e.toDisplayString(t.menuItem.title),3)],2)]),_:1},8,["index"])]),_:1},8,["to"])):(e.openBlock(),e.createBlock(s,{key:1,index:t.menuItem.path},{title:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["submenu-title",t.menuItem.icon?"submenu-title-with-icon":""])},[e.createElementVNode("i",{class:e.normalizeClass(["sidebar-menu-icon",t.prefixIconClass,t.menuItem.icon])},null,2),e.createElementVNode("span",{class:e.normalizeClass([t.menuTextClass,"common-menu-text"])},e.toDisplayString(t.menuItem.title),3)],2)]),_:1},8,["index"]))],2112))])}m.render=j,m.__file="layout-internal/libs/SidebarItem.vue";var F=Object.defineProperty,x=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,z=(n,a,t)=>a in n?F(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t,E=(n,a)=>{for(var t in a||(a={}))T.call(a,t)&&z(n,t,a[t]);if(x)for(var t of x(a))U.call(a,t)&&z(n,t,a[t]);return n},u={name:"GlobalAside",components:{SidebarItem:m},props:{data:{type:Array,default(){return[]}},collapsed:{type:Boolean,default:!1},logo:String,title:String,route:{type:Boolean,default:!0},absolute:{type:Boolean,default:!1},authorized:Function,checkMenuDisabled:Function,sidebarWidth:{type:Array,default(){return[54,200]}},homeUrl:{type:String,default:"/"},subMenuComponent:{type:String}},data(){return{openKeys:[],activeRoutePath:"",menuData:[],menuDataPathMapping:{}}},computed:{width(){return this.collapsed?this.sidebarWidth[0]+"px":this.sidebarWidth[1]+"px"},computedMenuData(){const n=[];return this.menuData.forEach((a,t)=>{const o=this.formatMenuData({menu:a,index:t,deep:0,path:a.path,parent:null});o&&n.push(o)}),n}},watch:{data:{handler(){this.filterAsideMenuData()},immediate:!0,deep:!0}},methods:{filterAsideMenuData(){const n=this.data.filter(a=>a.title&&!a.hide).map(a=>(this.authorized&&this.authorized(a.authority,a),a)).filter(a=>!!a);this.menuData=k(n),this.menuDataPathMapping=w(this.menuData)},_formatMenuData({menu:n,deep:a,index:t,path:o,parent:i}={}){let r=n?E({},n):{};return this.authorized?S(this.authorized)&&!this.authorized({menu:r,deep:a,index:t,path:o,parent:i})?!1:(r.children=r.children||[],Array.isArray(r.children)&&r.children.length>0&&(r.children=r.children.map(l=>{const s=o.startsWith("/")?l.path:`${o}/${l.path}`;return this._formatMenuData({menu:l,deep:a+1,index:t,path:s,parent:r})}).filter(l=>l)),r):r},formatMenuData({menu:n,deep:a,index:t,path:o,parent:i}={}){let r=n?E({},n):{};return this.authorized?S(this.authorized)&&!this.authorized({menu:r,deep:a,index:t,path:o,parent:i})?!1:(r.children=r.children||[],Array.isArray(r.children)&&r.children.length>0&&(r.children=r.children.map(l=>{const s=o.startsWith("/")?l.path:`${o}/${l.path}`;return this.formatMenuData({menu:l,deep:a+1,index:t,path:s,parent:r})}).filter(l=>l)),r):r}},created(){this.route&&this.$watch("$route.path",n=>{this.menuDataPathMapping[n]&&this.menuDataPathMapping[n].redirect?this.activeRoutePath=this.menuDataPathMapping[n].redirect:this.activeRoutePath=n,this.openKeys=W(n)},{immediate:!0})}};const R={class:"charrue-layout-sidebar-container"},K={key:0,class:"logo-container"},q=["src"],Z={key:1};function G(n,a,t,o,i,r){const l=e.resolveComponent("router-link"),s=e.resolveComponent("sidebar-item"),d=e.resolveComponent("el-menu");return e.openBlock(),e.createElementBlock("div",R,[e.createElementVNode("div",{class:"charrue-layout-sidebar-placeholder",style:e.normalizeStyle({width:r.width})},null,4),e.createElementVNode("div",{class:"charrue-layout-sidebar charrue-layout-sidebar-el-menu-container",style:e.normalizeStyle({width:r.width,position:t.absolute?"absolute":"fixed"})},[t.logo||t.title?(e.openBlock(),e.createElementBlock("div",K,[e.createVNode(l,{to:t.homeUrl,class:e.normalizeClass(["menu-router-link"])},{default:e.withCtx(()=>[t.logo?(e.openBlock(),e.createElementBlock("img",{key:0,src:t.logo,alt:"logo"},null,8,q)):e.createCommentVNode("v-if",!0),t.title?(e.openBlock(),e.createElementBlock("h1",Z,e.toDisplayString(t.title),1)):e.createCommentVNode("v-if",!0)]),_:1},8,["to"])])):e.createCommentVNode("v-if",!0),e.renderSlot(n.$slots,"sidebar-top"),e.createVNode(d,{class:"charrue-layout-sidebar-el-menu",mode:"vertical","unique-opened":"",collapse:t.collapsed,"default-active":i.activeRoutePath,"default-openeds":i.openKeys},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.computedMenuData,c=>(e.openBlock(),e.createBlock(s,{route:t.route,key:c.path,subMenuComponent:t.subMenuComponent,menuItem:c},null,8,["route","subMenuComponent","menuItem"]))),128))]),_:1},8,["collapse","default-active","default-openeds"]),e.renderSlot(n.$slots,"sidebar-bottom")],4)])}u.render=G,u.__file="layout-internal/libs/LayoutSidebar.vue";var h={name:"Hamburger",props:{isActive:{type:Boolean,default:!1}},emits:["toggle-click"],methods:{toggleClick(){this.$emit("toggle-click",this.isActive)}}};const J=[e.createElementVNode("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)];function Q(n,a,t,o,i,r){return e.openBlock(),e.createElementBlock("div",{class:"hamburger-container",onClick:a[0]||(a[0]=(...l)=>r.toggleClick&&r.toggleClick(...l))},[(e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass([{"is-active":t.isActive},"hamburger-svg"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},J,2))])}h.render=Q,h.__file="layout-internal/libs/Hamburger.vue";var p={name:"LayoutHeader",components:{Hamburger:h},props:{collapse:{type:Boolean,default:!1},fixed:{type:Boolean,default:!0}},emits:["update:collapse"],methods:{toggleSideBar(){this.$emit("update:collapse",!this.collapse)}}};const X={class:"charrue-layout-header-main"},Y={class:"charrue-layout-header-left"},v={class:"charrue-layout-header-right"};function ee(n,a,t,o,i,r){const l=e.resolveComponent("hamburger");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["charrue-layout-header-container",{"fixed-header":t.fixed}])},[e.createElementVNode("div",X,[e.createElementVNode("div",Y,[e.createVNode(l,{onToggleClick:r.toggleSideBar},null,8,["onToggleClick"]),e.renderSlot(n.$slots,"header-left")]),e.createElementVNode("div",v,[e.renderSlot(n.$slots,"header-right")])])],2)}p.render=ee,p.__file="layout-internal/libs/LayoutHeader.vue";var f={name:"LayoutContent",props:{contentStyle:{type:Object,default(){return{}}},animation:{type:Boolean,default:!0}}};const te={class:"charrue-layout-content-container"},ne={class:"charrue-layout-content-header"};function ae(n,a,t,o,i,r){return e.openBlock(),e.createElementBlock("section",te,[e.createElementVNode("div",ne,[e.renderSlot(n.$slots,"content-header")]),e.createElementVNode("div",{class:"charrue-layout-content-main",style:e.normalizeStyle(t.contentStyle)},[t.animation?(e.openBlock(),e.createBlock(e.Transition,{key:0,name:"fade-transform",mode:"out-in"},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"content")]),_:3})):e.renderSlot(n.$slots,"content",{key:1})],4)])}f.render=ae,f.__file="layout-internal/libs/LayoutContent.vue";var y={name:"Layout",components:{LayoutSidebar:u,LayoutHeader:p,LayoutContent:f},props:{version:{type:Number,validator(n){return[2,3].indexOf(n)>-1},default:2},collapsed:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!0},data:{type:Array,required:!0,default(){return[]}},logo:String,title:String,routeParams:[Function,Object],contentStyle:{type:Object,default(){return{}}},sidebarWidth:{type:Array,default(){return[54,200]}},animation:{type:Boolean,default:!0},absolute:{type:Boolean,default:!1},route:{type:Boolean,default:!0},authorized:Function,homeUrl:{type:String,default:"/"}},data(){return{innerCollapse:!1,componentConfig:{}}},computed:{mainWidthStyle(){return{width:`calc(100% - ${this.collapsed?this.sidebarWidth[0]:this.sidebarWidth[1]}px)`}},headerWidthStyle(){let n="100%";return this.fixedHeader&&(n=`calc(100% - ${this.collapsed?this.sidebarWidth[0]:this.sidebarWidth[1]}px)`),{width:n}}},watch:{collapsed:{handler(n){this.innerCollapse=n},immediate:!0},innerCollapse(n){this.$emit("update:collapsed",n)}},created(){this.componentConfig=$(this[C].version||2)},emits:["update:collapsed"]};function re(n,a,t,o,i,r){const l=e.resolveComponent("layout-sidebar"),s=e.resolveComponent("layout-header"),d=e.resolveComponent("layout-content");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["charrue-layout",[t.collapsed?"hideSidebar":"openSidebar"]])},[e.createVNode(l,{collapsed:i.innerCollapse,data:t.data,logo:t.logo,title:t.title,"route-params":t.routeParams,route:t.route,absolute:t.absolute,authorized:t.authorized,sidebarWidth:t.sidebarWidth,homeUrl:t.homeUrl,subMenuComponent:i.componentConfig.subMenu},{"sidebar-top":e.withCtx(()=>[e.renderSlot(n.$slots,"sidebar-top")]),"sidebar-bottom":e.withCtx(()=>[e.renderSlot(n.$slots,"sidebar-bottom")]),_:3},8,["collapsed","data","logo","title","route-params","route","absolute","authorized","sidebarWidth","homeUrl","subMenuComponent"]),e.createElementVNode("div",{class:"charrue-layout-main",style:e.normalizeStyle(r.mainWidthStyle)},[e.createVNode(s,{collapse:i.innerCollapse,fixed:t.fixedHeader,style:e.normalizeStyle(r.headerWidthStyle),"onUpdate:collapse":a[0]||(a[0]=c=>i.innerCollapse=c)},{"header-trigger":e.withCtx(()=>[e.renderSlot(n.$slots,"header-trigger")]),"header-left":e.withCtx(()=>[e.renderSlot(n.$slots,"header-left")]),"header-right":e.withCtx(()=>[e.renderSlot(n.$slots,"header-right")]),_:3},8,["collapse","fixed","style"]),e.createVNode(d,{"content-style":t.contentStyle,animation:t.animation},{"content-header":e.withCtx(()=>[e.renderSlot(n.$slots,"content-header")]),content:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["content-style","animation"])],4)],2)}y.render=re,y.__file="layout-internal/libs/Layout.vue";const P=y,oe=C;var le={install(n){n.config.globalProperties[oe]={version:2},n.component(P.name,P)}};return le}(vue);
