this.CharrueLayout=function(){"use strict";var K=Object.defineProperty,q=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,S=(e,r,t)=>r in e?K(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,J=(e,r)=>{for(var t in r||(r={}))G.call(r,t)&&S(e,t,r[t]);if(R)for(var t of R(r))V.call(r,t)&&S(e,t,r[t]);return e},Q=(e,r)=>q(e,Z(r));function I(e){return e.replace(/\/\//g,"/")}function P(e){return typeof e=="function"}const E="$CharrueLayoutPluginOptions",X=e=>{const r={};return e=Number(e),e===2?r.subMenu="el-submenu":e===3?r.subMenu="el-sub-menu":console.error(`[charrue layout] version ${e} is not supported`),r},Y=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/g;function ee(e){return Y.test(e)}function A(e){const r=e.split("/").filter(t=>t);return r.map((t,n)=>`/${r.slice(0,n+1).join("/")}`)}function M(e,r=""){return e.map(t=>{let{path:n}=t;if(r=I(r),n&&!ee(n)){const i=n[0]==="/";n&&(n=r&&i?n:`${r}/${n}`)}n=I(n);const o=Q(J({},t),{path:n,parentPath:r});return t.children&&(o.children=M(t.children,`${r}/${t.path}`)),o})}function te(e){const r={},t=o=>{const i=[];return o.forEach(u=>{r[u.path]=u,u.children&&Array.isArray(u.children)&&u.children.length>0&&i.push(...u.children)}),i};let n=t(e);for(;n&&n.length>0;)n=t(n);return r}function re(e){for(var r=[],t=0;t<e.length;){var n=e[t];if(n==="*"||n==="+"||n==="?"){r.push({type:"MODIFIER",index:t,value:e[t++]});continue}if(n==="\\"){r.push({type:"ESCAPED_CHAR",index:t++,value:e[t++]});continue}if(n==="{"){r.push({type:"OPEN",index:t,value:e[t++]});continue}if(n==="}"){r.push({type:"CLOSE",index:t,value:e[t++]});continue}if(n===":"){for(var o="",i=t+1;i<e.length;){var u=e.charCodeAt(i);if(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||u===95){o+=e[i++];continue}break}if(!o)throw new TypeError("Missing parameter name at "+t);r.push({type:"NAME",index:t,value:o}),t=i;continue}if(n==="("){var l=1,a="",i=t+1;if(e[i]==="?")throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;){if(e[i]==="\\"){a+=e[i++]+e[i++];continue}if(e[i]===")"){if(l--,l===0){i++;break}}else if(e[i]==="("&&(l++,e[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+i);a+=e[i++]}if(l)throw new TypeError("Unbalanced pattern at "+t);if(!a)throw new TypeError("Missing pattern at "+t);r.push({type:"PATTERN",index:t,value:a}),t=i;continue}r.push({type:"CHAR",index:t,value:e[t++]})}return r.push({type:"END",index:t,value:""}),r}function ne(e,r){r===void 0&&(r={});for(var t=re(e),n=r.prefixes,o=n===void 0?"./":n,i="[^"+y(r.delimiter||"/#?")+"]+?",u=[],l=0,a=0,_="",c=function(f){if(a<t.length&&t[a].type===f)return t[a++].value},g=function(f){var $=c(f);if($!==void 0)return $;var U=t[a],ut=U.type,st=U.index;throw new TypeError("Unexpected "+ut+" at "+st+", expected "+f)},v=function(){for(var f="",$;$=c("CHAR")||c("ESCAPED_CHAR");)f+=$;return f};a<t.length;){var d=c("CHAR"),b=c("NAME"),C=c("PATTERN");if(b||C){var s=d||"";o.indexOf(s)===-1&&(_+=s,s=""),_&&(u.push(_),_=""),u.push({name:b||l++,prefix:s,suffix:"",pattern:C||i,modifier:c("MODIFIER")||""});continue}var p=d||c("ESCAPED_CHAR");if(p){_+=p;continue}_&&(u.push(_),_="");var m=c("OPEN");if(m){var s=v(),x=c("NAME")||"",h=c("PATTERN")||"",w=v();g("CLOSE"),u.push({name:x||(h?l++:""),pattern:x&&!h?i:h,prefix:s,suffix:w,modifier:c("MODIFIER")||""});continue}g("END")}return u}function y(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function O(e){return e&&e.sensitive?"":"i"}function ae(e,r){if(!r)return e;for(var t=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,o=t.exec(e.source);o;)r.push({name:o[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),o=t.exec(e.source);return e}function ie(e,r,t){var n=e.map(function(o){return D(o,r,t).source});return new RegExp("(?:"+n.join("|")+")",O(t))}function oe(e,r,t){return ue(ne(e,t),r,t)}function ue(e,r,t){t===void 0&&(t={});for(var n=t.strict,o=n===void 0?!1:n,i=t.start,u=i===void 0?!0:i,l=t.end,a=l===void 0?!0:l,_=t.encode,c=_===void 0?function(f){return f}:_,g="["+y(t.endsWith||"")+"]|$",v="["+y(t.delimiter||"/#?")+"]",d=u?"^":"",b=0,C=e;b<C.length;b++){var s=C[b];if(typeof s=="string")d+=y(c(s));else{var p=y(c(s.prefix)),m=y(c(s.suffix));if(s.pattern)if(r&&r.push(s),p||m)if(s.modifier==="+"||s.modifier==="*"){var x=s.modifier==="*"?"?":"";d+="(?:"+p+"((?:"+s.pattern+")(?:"+m+p+"(?:"+s.pattern+"))*)"+m+")"+x}else d+="(?:"+p+"("+s.pattern+")"+m+")"+s.modifier;else d+="("+s.pattern+")"+s.modifier;else d+="(?:"+p+m+")"+s.modifier}}if(a)o||(d+=v+"?"),d+=t.endsWith?"(?="+g+")":"$";else{var h=e[e.length-1],w=typeof h=="string"?v.indexOf(h[h.length-1])>-1:h===void 0;o||(d+="(?:"+v+"(?="+g+"))?"),w||(d+="(?="+v+"|"+g+")")}return new RegExp(d,O(t))}function D(e,r,t){return e instanceof RegExp?ae(e,r):Array.isArray(e)?ie(e,r,t):oe(e,r,t)}var se={name:"SidebarItem",props:{subMenuComponent:{type:String,default:"el-submenu"},menuItem:{type:Object,required:!0},prefixIconClass:String,menuTextClass:String,route:Boolean}};const le=se;var F=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"charrue-layout-sidebar-el-menu-container"},[e.menuItem.children&&e.menuItem.children.length>0?t(e.subMenuComponent,{tag:"component",attrs:{index:e.menuItem.path,"popper-append-to-body":""},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"submenu-title",class:[e.menuItem.icon?"submenu-title-with-icon":""]},[t("i",{staticClass:"charrue-sidebar-menu-icon",class:[e.prefixIconClass,e.menuItem.icon]}),e._v(" "),t("span",{staticClass:"charrue-sidebar-menu-text",class:[e.menuTextClass]},[e._v(e._s(e.menuItem.title))])])]},proxy:!0}],null,!1,3709594052)},[e._v(" "),e._l(e.menuItem.children,function(n){return t("sidebar-item",{key:n.path,attrs:{route:e.route,"is-nest":!0,"menu-item":n,"sub-menu-component":e.subMenuComponent}})})],2):[e.route?t("router-link",{staticClass:"menu-router-link",attrs:{to:e.menuItem.path}},[t("el-menu-item",{attrs:{index:e.menuItem.path},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticClass:"charrue-sidebar-menu-text",class:[e.menuTextClass]},[e._v(e._s(e.menuItem.title))])]},proxy:!0}],null,!1,3287638056)},[t("i",{staticClass:"charrue-sidebar-menu-icon",class:[e.prefixIconClass,e.menuItem.icon]})])],1):t("el-menu-item",{attrs:{index:e.menuItem.path},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticClass:"charrue-sidebar-menu-text",class:[e.menuTextClass]},[e._v(e._s(e.menuItem.title))])]},proxy:!0}])},[t("i",{staticClass:"charrue-sidebar-menu-icon",class:[e.prefixIconClass,e.menuItem.icon]})])]],2)},ce=[];F._withStripped=!0;const de=void 0,_e=void 0,fe=!1;function pe(e,r,t,n,o,i,u,l){const a=(typeof t=="function"?t.options:t)||{};return a.__file="C:\\all\\code\\plow\\charrue-el\\packages\\layout-internal\\libs\\SidebarItem.vue",a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),a._scopeId=n,a}var he=pe({render:F,staticRenderFns:ce},de,le,_e,fe),ve=Object.defineProperty,j=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,T=(e,r,t)=>r in e?ve(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,z=(e,r)=>{for(var t in r||(r={}))me.call(r,t)&&T(e,t,r[t]);if(j)for(var t of j(r))ye.call(r,t)&&T(e,t,r[t]);return e},ge={name:"GlobalAside",components:{SidebarItem:he},props:{data:{type:Array,default(){return[]}},collapsed:{type:Boolean,default:!1},logo:String,title:String,route:{type:Boolean,default:!0},absolute:{type:Boolean,default:!1},authorized:Function,sidebarWidth:{type:Array,default(){return[54,200]}},regexToPath:{type:Object},homeUrl:{type:String,default:"/"},subMenuComponent:{type:String}},data(){return{openKeys:[],activeRoutePath:"",menuData:[],menuDataPathMapping:{}}},computed:{width(){return this.collapsed?`${this.sidebarWidth[0]}px`:`${this.sidebarWidth[1]}px`},computedMenuData(){const e=[];return this.menuData.forEach((r,t)=>{const n=this.formatMenuData({menu:r,index:t,deep:0,path:r.path,parent:null});n&&e.push(n)}),e}},watch:{data:{handler(){this.filterAsideMenuData()},immediate:!0,deep:!0}},created(){this.route&&this.$watch("$route.path",e=>{const r=this.regexToPath?Object.keys(this.regexToPath).find(o=>D(o).test(e)):null;r?this.activeRoutePath=this.regexToPath[r]:this.activeRoutePath=e;const t=A(this.activeRoutePath),n=this.menuDataPathMapping[this.activeRoutePath];n&&n.parentPath&&A(n.parentPath).forEach(o=>{t.includes(o)||t.push(o)}),this.openKeys=t},{immediate:!0})},methods:{filterAsideMenuData(){const e=this.data.filter(r=>r.title&&!r.hide).map(r=>(this.authorized&&this.authorized(r.authority,r),r)).filter(r=>!!r);this.menuData=M(e),this.menuDataPathMapping=te(this.menuData)},_formatMenuData({menu:e,deep:r,index:t,path:n,parent:o}={}){const i=e?z({},e):{};return this.authorized?P(this.authorized)&&!this.authorized({menu:i,deep:r,index:t,path:n,parent:o})?!1:(i.children=i.children||[],Array.isArray(i.children)&&i.children.length>0&&(i.children=i.children.map(u=>{const l=n.startsWith("/")?u.path:`${n}/${u.path}`;return this._formatMenuData({menu:u,deep:r+1,index:t,path:l,parent:i})}).filter(u=>u)),i):i},formatMenuData({menu:e,deep:r,index:t,path:n,parent:o}={}){const i=e?z({},e):{};return this.authorized?P(this.authorized)&&!this.authorized({menu:i,deep:r,index:t,path:n,parent:o})?!1:(i.children=i.children||[],Array.isArray(i.children)&&i.children.length>0&&(i.children=i.children.map(u=>{const l=n.startsWith("/")?u.path:`${n}/${u.path}`;return this.formatMenuData({menu:u,deep:r+1,index:t,path:l,parent:i})}).filter(u=>u)),i):i}}};const be=ge;var H=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"charrue-layout-sidebar-container"},[t("div",{staticClass:"charrue-layout-sidebar-placeholder",style:{width:e.width}}),e._v(" "),t("div",{staticClass:"charrue-layout-sidebar charrue-layout-sidebar-el-menu-container",style:{width:e.width,position:e.absolute?"absolute":"fixed"}},[e.logo||e.title?t("div",{staticClass:"logo-container"},[t("router-link",{staticClass:"menu-router-link",attrs:{to:e.homeUrl}},[e.logo?t("img",{attrs:{src:e.logo,alt:"logo"}}):e._e(),e._v(" "),e.title?t("h1",[e._v(e._s(e.title))]):e._e()])],1):e._e(),e._v(" "),e._t("sidebar-top"),e._v(" "),t("el-menu",{staticClass:"charrue-layout-sidebar-el-menu",attrs:{mode:"vertical","unique-opened":"",collapse:e.collapsed,"default-active":e.activeRoutePath,"default-openeds":e.openKeys}},e._l(e.computedMenuData,function(n){return t("sidebar-item",{key:n.path,attrs:{route:e.route,"sub-menu-component":e.subMenuComponent,"menu-item":n}})}),1),e._v(" "),e._t("sidebar-bottom")],2)])},Ce=[];H._withStripped=!0;const $e=void 0,xe=void 0,we=!1;function Re(e,r,t,n,o,i,u,l){const a=(typeof t=="function"?t.options:t)||{};return a.__file="C:\\all\\code\\plow\\charrue-el\\packages\\layout-internal\\libs\\LayoutSidebar.vue",a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),a._scopeId=n,a}var Se=Re({render:H,staticRenderFns:Ce},$e,be,xe,we),Ie={name:"HamburgerTrigger",props:{isActive:{type:Boolean,default:!1}},emits:["toggle-click"],methods:{toggleClick(){this.$emit("toggle-click",this.isActive)}}};const Pe=Ie;var L=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"hamburger-container",on:{click:e.toggleClick}},[t("svg",{staticClass:"hamburger-svg",class:{"is-active":e.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[t("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})])])},Ee=[];L._withStripped=!0;const Ae=void 0,Me=void 0,Oe=!1;function De(e,r,t,n,o,i,u,l){const a=(typeof t=="function"?t.options:t)||{};return a.__file="C:\\all\\code\\plow\\charrue-el\\packages\\layout-internal\\libs\\Hamburger.vue",a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),a._scopeId=n,a}var Fe=De({render:L,staticRenderFns:Ee},Ae,Pe,Me,Oe),je={name:"LayoutHeader",components:{Hamburger:Fe},props:{collapse:{type:Boolean,default:!1},fixed:{type:Boolean,default:!0}},emits:["update:collapse"],methods:{toggleSideBar(){this.$emit("update:collapse",!this.collapse)}}};const Te=je;var W=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"charrue-layout-header-container",class:{"fixed-header":e.fixed}},[t("div",{staticClass:"charrue-layout-header-main"},[t("div",{staticClass:"charrue-layout-header-left"},[e._t("header-trigger",function(){return[t("hamburger",{on:{"toggle-click":e.toggleSideBar}})]}),e._v(" "),e._t("header-left")],2),e._v(" "),t("div",{staticClass:"charrue-layout-header-right"},[e._t("header-right")],2)])])},ze=[];W._withStripped=!0;const He=void 0,Le=void 0,We=!1;function Be(e,r,t,n,o,i,u,l){const a=(typeof t=="function"?t.options:t)||{};return a.__file="C:\\all\\code\\plow\\charrue-el\\packages\\layout-internal\\libs\\LayoutHeader.vue",a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),a._scopeId=n,a}var Ne=Be({render:W,staticRenderFns:ze},He,Te,Le,We),ke={name:"LayoutContent",props:{animation:{type:Boolean,default:!0}}};const Ue=ke;var B=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"charrue-layout-content-container"},[t("div",{staticClass:"charrue-layout-content-header"},[e._t("content-header")],2),e._v(" "),t("div",{staticClass:"charrue-layout-content-main"},[e.animation?[t("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e._t("content")],2)]:[e._t("content")]],2),e._v(" "),t("div",{staticClass:"charrue-layout-content-footer"},[e._t("content-footer")],2)])},Ke=[];B._withStripped=!0;const qe=void 0,Ze=void 0,Ge=!1;function Ve(e,r,t,n,o,i,u,l){const a=(typeof t=="function"?t.options:t)||{};return a.__file="C:\\all\\code\\plow\\charrue-el\\packages\\layout-internal\\libs\\LayoutContent.vue",a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),a._scopeId=n,a}var Je=Ve({render:B,staticRenderFns:Ke},qe,Ue,Ze,Ge),Qe={name:"CharrueLayout",components:{LayoutSidebar:Se,LayoutHeader:Ne,LayoutContent:Je},props:{version:{type:Number,validator(e){return[2,3].indexOf(e)>-1},default:2},collapsed:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!0},data:{type:Array,required:!0,default(){return[]}},logo:String,title:String,sidebarWidth:{type:Array,default(){return[54,200]}},animation:{type:Boolean,default:!0},absolute:{type:Boolean,default:!1},route:{type:Boolean,default:!0},authorized:Function,homeUrl:{type:String,default:"/"},regexToPath:{type:Object}},emits:["update:collapsed"],data(){return{innerCollapse:!1,componentConfig:{subMenu:""}}},computed:{mainWidthStyle(){return{width:`calc(100% - ${this.collapsed?this.sidebarWidth[0]:this.sidebarWidth[1]}px)`}},headerWidthStyle(){let e="100%";return this.fixedHeader&&(e=`calc(100% - ${this.collapsed?this.sidebarWidth[0]:this.sidebarWidth[1]}px)`),{width:e}}},watch:{collapsed:{handler(e){this.innerCollapse=e},immediate:!0},innerCollapse(e){this.$emit("update:collapsed",e)}},created(){this.componentConfig=X(this[E].version||2)}};const Xe=Qe;var N=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"charrue-layout",class:[e.collapsed?"hideSidebar":"openSidebar"]},[t("layout-sidebar",{attrs:{collapsed:e.innerCollapse,data:e.data,logo:e.logo,title:e.title,route:e.route,absolute:e.absolute,authorized:e.authorized,"sidebar-width":e.sidebarWidth,"home-url":e.homeUrl,"sub-menu-component":e.componentConfig.subMenu,"regex-to-path":e.regexToPath},scopedSlots:e._u([{key:"sidebar-top",fn:function(){return[e._t("sidebar-top")]},proxy:!0},{key:"sidebar-bottom",fn:function(){return[e._t("sidebar-bottom")]},proxy:!0}],null,!0)}),e._v(" "),t("div",{staticClass:"charrue-layout-main",style:e.mainWidthStyle},[t("layout-header",{style:e.headerWidthStyle,attrs:{collapse:e.innerCollapse,fixed:e.fixedHeader},on:{"update:collapse":function(n){return e.innerCollapse=n}},scopedSlots:e._u([{key:"header-trigger",fn:function(){return[e._t("header-trigger")]},proxy:!0},{key:"header-left",fn:function(){return[e._t("header-left")]},proxy:!0},{key:"header-right",fn:function(){return[e._t("header-right")]},proxy:!0}],null,!0)}),e._v(" "),t("layout-content",{attrs:{animation:e.animation},scopedSlots:e._u([{key:"content-header",fn:function(){return[e._t("content-header")]},proxy:!0},{key:"content",fn:function(){return[e._t("default")]},proxy:!0},{key:"content-footer",fn:function(){return[e._t("content-footer")]},proxy:!0}],null,!0)})],1)],1)},Ye=[];N._withStripped=!0;const et=void 0,tt=void 0,rt=!1;function nt(e,r,t,n,o,i,u,l){const a=(typeof t=="function"?t.options:t)||{};return a.__file="C:\\all\\code\\plow\\charrue-el\\packages\\layout-internal\\libs\\Layout.vue",a.render||(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),a._scopeId=n,a}var at=nt({render:N,staticRenderFns:Ye},et,Xe,tt,rt);const k=at,it=E;var ot={install(e){e.prototype[it]={version:2},e.component(k.name,k)}};return ot}();
